<Window
    x:Class="KOTORModSync.Dialogs.ConfirmationDialog"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Confirm Action"
    Width="460"
    MinWidth="400"
    MinHeight="200"
    ExtendClientAreaChromeHints="NoChrome"
    ExtendClientAreaTitleBarHeightHint="-1"
    ExtendClientAreaToDecorationsHint="True"
    SizeToContent="Height"
    SystemDecorations="BorderOnly"
    WindowStartupLocation="CenterOwner">
    <Grid RowDefinitions="Auto,*">
        <!--  Dialog content in its own row below the close button  -->
        <Border
            x:Name="DialogBorder"
            Grid.Row="1"
            Margin="16,0,16,16"
            Padding="16"
            CornerRadius="8">
            <Grid ColumnDefinitions="*" RowDefinitions="*,Auto">
                <ScrollViewer
                    Grid.Row="0"
                    MaxHeight="200"
                    HorizontalScrollBarVisibility="Disabled"
                    VerticalScrollBarVisibility="Auto">
                    <TextBlock
                        x:Name="ConfirmTextBlock"
                        TextAlignment="Center"
                        TextWrapping="Wrap" />
                </ScrollViewer>
                <StackPanel
                    Grid.Row="1"
                    Margin="0,16,0,0"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="8">
                    <Button
                        MinWidth="100"
                        Click="YesButton_Click"
                        Content="{Binding YesButtonText, RelativeSource={RelativeSource AncestorType=Window}}"
                        Tag="Yes" />
                    <Button
                        MinWidth="100"
                        Click="NoButton_Click"
                        Content="{Binding NoButtonText, RelativeSource={RelativeSource AncestorType=Window}}"
                        Tag="No" />
                </StackPanel>
            </Grid>
        </Border>

        <!--  Custom Window Controls - positioned above text area  -->
        <StackPanel
            Grid.Row="0"
            Margin="0,8,8,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Orientation="Horizontal"
            Spacing="0">
            <Button
                Width="40"
                Height="40"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                HorizontalContentAlignment="Center"
                Click="CloseButton_Click"
                Content="X"
                FontSize="15" />
        </StackPanel>
    </Grid>
</Window>

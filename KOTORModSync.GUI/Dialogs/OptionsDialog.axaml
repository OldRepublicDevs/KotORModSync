<Window
    x:Class="KOTORModSync.Dialogs.OptionsDialog"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Select Option"
    Width="480"
    MinWidth="400"
    MinHeight="300"
    ExtendClientAreaChromeHints="NoChrome"
    ExtendClientAreaTitleBarHeightHint="-1"
    ExtendClientAreaToDecorationsHint="True"
    SizeToContent="Height"
    SystemDecorations="BorderOnly"
    WindowStartupLocation="CenterOwner">
    <Panel>
        <!--  Custom Window Controls  -->
        <StackPanel
            Margin="0,8,8,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Orientation="Horizontal"
            Spacing="0">
            <Button
                Width="40"
                Height="40"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                HorizontalContentAlignment="Center"
                Click="CloseButton_Click"
                Content="X"
                FontSize="15" />
        </StackPanel>

        <Border
            x:Name="DialogBorder"
            Margin="16"
            Padding="16"
            CornerRadius="8">
            <Grid RowDefinitions="Auto,*,Auto">
                <!--  Header  -->
                <TextBlock
                    x:Name="OptionTextBox"
                    Grid.Row="0"
                    Margin="0,0,0,12"
                    TextTrimming="CharacterEllipsis"
                    TextWrapping="Wrap" />

                <!--  Options list  -->
                <ScrollViewer
                    Grid.Row="1"
                    MaxHeight="240"
                    VerticalScrollBarVisibility="Auto">
                    <StackPanel
                        x:Name="OptionStackPanel"
                        Orientation="Vertical"
                        Spacing="8">
                        <ItemsControl>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Vertical" Spacing="6" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border
                                        x:Name="OptionItemBorder"
                                        Padding="8"
                                        CornerRadius="4">
                                        <RadioButton Content="{Binding}" GroupName="OptionsGroup" />
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ScrollViewer>

                <!--  Footer buttons  -->
                <StackPanel
                    x:Name="ButtonStackPanel"
                    Grid.Row="2"
                    Margin="0,12,0,0"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="8">
                    <Button
                        MinWidth="100"
                        Content="Cancel"
                        Tag="Cancel" />
                    <Button
                        x:Name="OkButton"
                        MinWidth="100"
                        Click="OKButton_Click"
                        Content="OK"
                        Tag="OK" />
                </StackPanel>
            </Grid>
        </Border>
    </Panel>
</Window>

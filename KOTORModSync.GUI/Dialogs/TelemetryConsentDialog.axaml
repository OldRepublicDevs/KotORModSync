<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="KOTORModSync.Dialogs.TelemetryConsentDialog"
        Title="Help Improve KOTORModSync"
        Width="600" Height="550"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        ShowInTaskbar="False">

	<Window.Styles>
		<Style Selector="TextBlock.header">
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="Margin" Value="0,0,0,10"/>
		</Style>

		<Style Selector="TextBlock.body">
			<Setter Property="TextWrapping" Value="Wrap"/>
			<Setter Property="Margin" Value="0,0,0,15"/>
		</Style>

		<Style Selector="CheckBox">
			<Setter Property="Margin" Value="0,5"/>
		</Style>
	</Window.Styles>

	<Border Padding="20">
		<Grid RowDefinitions="Auto,*,Auto">
			<!-- Header -->
			<StackPanel Grid.Row="0" Margin="0,0,0,20">
				<TextBlock Text="ðŸ“Š Help Improve KOTORModSync" 
				           Classes="header"
				           FontSize="18"/>
				<TextBlock Text="Your feedback helps us make KOTORModSync better for everyone!"
				           Classes="body"/>
			</StackPanel>

			<!-- Content -->
			<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
				<StackPanel>
					<TextBlock Classes="header" Text="What Data Would Be Collected?"/>
					
					<TextBlock Classes="body">
						We'd like to collect <Bold>anonymous usage and performance data</Bold> to help improve the application. 
						This helps us understand which features are most useful and identify performance issues.
					</TextBlock>

					<Border BorderThickness="1" 
					        Padding="15" 
					        Margin="0,0,0,15"
					        CornerRadius="5">
						<StackPanel>
							<TextBlock Text="âœ… What We Collect:" FontWeight="Bold" Margin="0,0,0,10"/>
							<TextBlock Text="â€¢ Which features you use (buttons clicked, tabs viewed)" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ Performance metrics (installation times, app responsiveness)" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ Error and crash reports (to fix bugs)" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ Operating system and app version" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ Anonymous session identifier" 
							           Margin="10,2"/>
						</StackPanel>
					</Border>

					<Border BorderThickness="1" 
					        Padding="15" 
					        Margin="0,0,0,15"
					        CornerRadius="5">
						<StackPanel>
							<TextBlock Text="âŒ What We DON'T Collect:" FontWeight="Bold" Margin="0,0,0,10"/>
							<TextBlock Text="â€¢ Your name, email, or personal information" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ Mod names, file contents, or game data" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ File paths or directory structures" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ Passwords or authentication tokens" 
							           Margin="10,2"/>
							<TextBlock Text="â€¢ IP addresses (unless you enable remote sending)" 
							           Margin="10,2"/>
						</StackPanel>
					</Border>

					<TextBlock Classes="header" Text="Privacy Controls"/>
					
					<CheckBox x:Name="CollectUsageCheckBox"
					          Content="Allow usage data collection (feature usage)"
					          IsChecked="True"/>
					
					<CheckBox x:Name="CollectPerformanceCheckBox"
					          Content="Allow performance metrics collection (speeds and timings)"
					          IsChecked="True"/>
					
					<CheckBox x:Name="CollectCrashReportsCheckBox"
					          Content="Allow crash and error reports"
					          IsChecked="True"/>
					
					<CheckBox x:Name="CollectMachineInfoCheckBox"
					          Content="Include computer name (reduces privacy)"
					          IsChecked="False"/>

					<Separator Margin="0,15"/>

					<TextBlock Classes="header" Text="Data Storage Options"/>
					
					<RadioButton x:Name="LocalOnlyRadio"
					             Content="Store data locally only (most private)"
					             GroupName="StorageOption"
					             IsChecked="True"
					             Margin="0,5"/>
					
					<TextBlock Text="Data will be saved to your local machine only. You can review it anytime."
					           Margin="25,0,0,10"
					           FontSize="11"
					           Foreground="Gray"/>
					
					<RadioButton x:Name="SendRemoteRadio"
					             Content="Send data to KOTORModSync servers (helps us more)"
					             GroupName="StorageOption"
					             Margin="0,5"/>
					
					<TextBlock Text="Data will be anonymized and sent securely to help us improve the app."
					           Margin="25,0,0,10"
					           FontSize="11"
					           Foreground="Gray"/>

					<Border Padding="15" 
					        Margin="0,15,0,0"
					        CornerRadius="5">
						<StackPanel>
							<TextBlock Text="ðŸ”’ Your Privacy Matters" FontWeight="Bold" Margin="0,0,0,5"/>
							<TextBlock TextWrapping="Wrap" FontSize="11">
								All telemetry is <Bold>completely optional</Bold> and can be disabled at any time in Settings. 
								We follow industry best practices for data privacy and will never sell your data.
								For more information, see our Privacy Policy at github.com/th3w1zard1/KOTORModSync
							</TextBlock>
						</StackPanel>
					</Border>
				</StackPanel>
			</ScrollViewer>

			<!-- Buttons -->
			<Grid Grid.Row="2" 
			      ColumnDefinitions="*,Auto,Auto" 
			      Margin="0,20,0,0">
				<Button Grid.Column="1"
				        x:Name="EnableButton"
				        Content="Enable Telemetry"
				        Width="150"
				        Margin="0,0,10,0"
				        Click="EnableButton_Click"/>
				
				<Button Grid.Column="2"
				        x:Name="DeclineButton"
				        Content="No Thanks"
				        Width="120"
				        Click="DeclineButton_Click"/>
			</Grid>
		</Grid>
	</Border>
</Window>

